{% extends "layout.html" %}

{% block pageTitle %}
Case history
{% endblock %}

{% block bodyStart %}

{% block keyDetails %}
{% include "includes/new-service-user/v2/service-user-banner.html" %}
{% endblock %}

{% endblock %}

{% block beforeContent %}
<a href="case-list" class="govuk-back-link">Back to my cases</a>
{% endblock %}

{% block content %}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
        <nav class="moj-sub-navigation" aria-label="Sub navigation">
            <ul class="moj-sub-navigation__list">
                <li class="moj-sub-navigation__item">
                    <a class="moj-sub-navigation__link govuk-link--no-visited-state" href="overview.html">Overview</a>
                </li>
                <li class="moj-sub-navigation__item">
                    <a class="moj-sub-navigation__link govuk-link--no-visited-state"
                        href="service-user-details.html">Service user details</a>
                </li>
                <li class="moj-sub-navigation__item">
                    <a class="moj-sub-navigation__link govuk-link--no-visited-state" href="risks-and-needs.html">Risks
                        and needs</a>
                </li>
                <li class="moj-sub-navigation__item">
                    <a class="moj-sub-navigation__link govuk-link--no-visited-state"
                        href="probation-record.html">Probation record</a>
                </li>
                <li class="moj-sub-navigation__item">
                    <a class="moj-sub-navigation__link govuk-link--no-visited-state"
                        href="appointments.html">Appointments</a>
                </li>
                <li class="moj-sub-navigation__item">
                    <a class="moj-sub-navigation__link govuk-link--no-visited-state" aria-current="page"
                        href="case-notes-add.html">Case notes</a>
                </li>
            </ul>
        </nav>
    </div>
</div>

<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
        <h1 class="govuk-heading-l govuk-!-margin-bottom-7">Case history</h1>
    </div>
    <div class="govuk-tabs" data-module="govuk-tabs">
        <div class="app-case-updates">
        </div>
        <ul class="govuk-tabs__list">
            <li class="govuk-tabs__list-item">
                <a class="govuk-tabs__tab" href="case-notes-add">
                    Add case notes
                </a>
            </li>
            <li class="govuk-tabs__list-item govuk-tabs__list-item--selected">
                <a class="govuk-tabs__tab" href="case-history">
                    Case notes history
                </a>
            </li>
        </ul>
    </div>
</div>

<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
        {% block filter %}
        {% include "includes/new-service-user/v2/filter.html" %}
        {% endblock %}
    </div>
</div>

<table class="govuk-table" style="max-width:none;">
    <thead class="govuk-table__head">
      <tr class="govuk-table__row case-history">
        <th scope="col" class="govuk-table__header" width="230px">Date and time</th>
        <th scope="col" class="govuk-table__header" width="230px">Details</th>
        <th scope="col" class="govuk-table__header" width="150">Added by</th>
        <th scope="col" class="govuk-table__header" width="150">Action</th>
      </tr>
    </thead>
    <tbody class="govuk-table__body">
        <tr class="govuk-table__row case-history" onClick='toggleRow(this)'>
            <td class="govuk-table__cell">18 Nov 2020 at 12:44pm</td>
            <td class="govuk-table__cell">Mr. Armstrong did not turn up for his scheduled appointment this afternoon. I rang Mr. Armstrong three</td>
            <td class="govuk-table__cell">Mark Berridge</td>
            <td class="govuk-table__cell">
              <button type="button" class="govuk-button" style="height: 45px; margin-bottom: 0px;">
                Update
              </button>
            </td>
            <td class="govuk-table__cell expanded-row-content hide-row">Hidden info</td>
          </tr>
    </tbody>
</table>

<script>
    const toggleRow = (element) => {
      element.getElementsByClassName('expanded-row-content')[0].classList.toggle('hide-row');
      console.log(event);
    }
</script>

{% endblock %}